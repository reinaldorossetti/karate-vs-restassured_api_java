<testsuite failures="0" name="serverest/login/login.feature" skipped="0" tests="12" time="6.123327"><testcase classname="serverest.login.login" name="CT01 - Perform login with valid credentials and validate token" time="0.844736"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
Given path '/login' ....................................................... passed
And request loginPayload .................................................. passed
When method POST .......................................................... passed
Then status 200 ........................................................... passed
* def message = response.message .......................................... passed
* def authToken = response.authorization .................................. passed
And match message == 'Login realizado com sucesso' ........................ passed
And match authToken == '#notnull' ......................................... passed
And match authToken == '#? _.length &gt; 50' ................................. passed
* print 'Generated Token:', authToken ..................................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT02 - Attempt login with invalid credentials" time="0.804756"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidCredentials = ................................................ passed
Given path '/login' ....................................................... passed
And request invalidCredentials ............................................ passed
When method POST .......................................................... passed
Then status 401 ........................................................... passed
And match response.message == 'Email e/ou senha inv√°lidos' ................ passed
And match response !contains { authorization: '#string' } ................. passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT03 - Validate required fields on login" time="0.886586"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def incompleteData = .................................................... passed
Given path '/login' ....................................................... passed
And request incompleteData ................................................ passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
* if (!incompleteData.email) karate.match(response, { email: '#string' }) . passed
* if (!incompleteData.password) karate.match(response, { password: '#string' }) . passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT03 - Validate required fields on login" time="0.881719"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def incompleteData = .................................................... passed
Given path '/login' ....................................................... passed
And request incompleteData ................................................ passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
* if (!incompleteData.email) karate.match(response, { email: '#string' }) . passed
* if (!incompleteData.password) karate.match(response, { password: '#string' }) . passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT03 - Validate required fields on login" time="0.801367"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def incompleteData = .................................................... passed
Given path '/login' ....................................................... passed
And request incompleteData ................................................ passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
* if (!incompleteData.email) karate.match(response, { email: '#string' }) . passed
* if (!incompleteData.password) karate.match(response, { password: '#string' }) . passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT04 - Login and use token to access a protected resource" time="1.155032"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
Given path '/login' ....................................................... passed
And request loginPayload .................................................. passed
When method POST .......................................................... passed
Then status 200 ........................................................... passed
* def message = response.message .......................................... passed
* def authToken = response.authorization .................................. passed
And match message == 'Login realizado com sucesso' ........................ passed
* def productName = randomProductName() ................................... passed
* def newProduct = ........................................................ passed
Given path '/produtos' .................................................... passed
And header Authorization = authToken ...................................... passed
And request newProduct .................................................... passed
When method POST .......................................................... passed
Then status 201 ........................................................... passed
And match response.message == 'Cadastro realizado com sucesso' ............ passed
And match response._id == '#string' ....................................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.156438"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "emailwithoutat", "password": "senha123" } . passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.118719"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "@noname.com", "password": "senha123" } ... passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.139241"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "email@nodomain", "password": "senha123" } . passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.118583"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "email", "password": "senha123" } ......... passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.104341"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "12345@test.c", "password": "senha123" } .. passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
<testcase classname="serverest.login.login" name="CT05 - Validate invalid email format" time="0.11181"><system-out>* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def invalidLogin = { "email": "!@#$%", "password": "senha123" } ......... passed
Given path '/login' ....................................................... passed
And request invalidLogin .................................................. passed
When method POST .......................................................... passed
Then status 400 ........................................................... passed
And match response contains { email: '#string' } .......................... passed
</system-out></testcase>
</testsuite>