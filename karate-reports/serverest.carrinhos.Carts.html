<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/jquery-ui.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <script type="text/javascript" src="res/Resemble.js"></script>
    <script>
!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
posthog.init('phc_M6fKk3dSX9HjglkqPSybauGas45NINb7EgsPGU8N9g1',{
  api_host:'https://app.posthog.com',
  persistence:'localStorage',
  autocapture:false,
  capture_pageview:false,
  api_transport:'sendBeacon',
  loaded: function(posthog) { 
    posthog.capture("report_feature",{distinct_id:"56e94ca7-b2ec-4f15-bd59-883e45ccfd6e",karate_version:"1.5.2",karate_meta:null});
  }
});
</script>

    <title>serverest.carrinhos.Carts</title>
  </head>
  <body>
    <div id="root-container">
      <div id="leftnav">
        
        <div>
  <div class="nav-logo">
    <a href="https://karatelabs.io">
      <img src="karate-labs-logo-ring.svg" alt="Karate Labs"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">7</div>
      <div id="nav-fail" class="bg-danger">1</div>
    </div>
  </div>
  <div id="nav-env">
    <div></div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>
  <div id="nav-date">
    <div>2026-02-17 01:51:52 PM</div>
  </div>
</div>

        <div class="nav-container">
          <div class="nav-item passed">
            <a href="#[1:13]"><span>[1:13]</span> <span>CT01 - Full cart lifecycle for authenticated user</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[2:112]"><span>[2:112]</span> <span>CT02 - Cancel purchase and return products to stock</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[3:172]"><span>[3:172]</span> <span>CT03 - Prevent creating cart without authentication token</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[4:193]"><span>[4:193]</span> <span>CT04 - Prevent creating more than one cart for the same user</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[5:255]"><span>[5:255]</span> <span>CT05 - Cart not found by ID</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[6:262]"><span>[6:262]</span> <span>CT06 - Prevent cart creation when product stock is insufficient</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[7:316]"><span>[7:316]</span> <span>CT07 - Prevent cart creation with duplicated products in the same cart</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[8:374]"><span>[8:374]</span> <span>CT08 - Prevent cart creation with non-existing product</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">serverest/carrinhos/Carts.feature</span><span class="feature-label">|</span>
          <span class="feature-name">Cart Management - ServeRest API</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1:13]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a><a class="badge badge-primary" href="karate-tags.html">ct001</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1:13]</span>
                <span class="scenario-name">CT01 - Full cart lifecycle for authenticated user</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>2215</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1:13]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1:13]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:13]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:13]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:13]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">39</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1:13]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create a dedicated user for this cart scenario</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref passed">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userEmail = email()</span>
      </div>
    </div>
    <div class="time-cell passed">217</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.16">
      <div class="step-ref passed">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userPassword = &#39;SenhaSegura@123&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.17">
      <div class="step-ref passed">17</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def newUser =</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.17">{
  &quot;nome&quot;: &quot;Cart User&quot;,
  &quot;email&quot;: &quot;#(userEmail)&quot;,
  &quot;password&quot;: &quot;#(userPassword)&quot;,
  &quot;administrador&quot;: &quot;true&quot;
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.27">
      <div class="step-ref passed">27</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/usuarios&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.28">
      <div class="step-ref passed">28</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request newUser</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.29">
      <div class="step-ref passed">29</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">542</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.29">13:51:50.630 request:
1 &gt; POST https://serverest.dev/usuarios
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 100
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Cart User&quot;,&quot;email&quot;:&quot;xochitl@gmail.com&quot;,&quot;password&quot;:&quot;SenhaSegura@123&quot;,&quot;administrador&quot;:&quot;true&quot;}

13:51:51.124 response time in milliseconds: 493
1 &lt; 201
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: 1a96366625f64259ccc7b57e82fdaf85
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;A7E8xr28oklpRvFs&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.30">
      <div class="step-ref passed">30</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Update login payload to use the created user&#39;s credentials</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.33">
      <div class="step-ref passed">33</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>set loginPayload.email = userEmail</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.34">
      <div class="step-ref passed">34</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>set loginPayload.password = userPassword</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.36">
      <div class="step-ref passed">36</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.37">
      <div class="step-ref passed">37</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.38">
      <div class="step-ref passed">38</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">218</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.38">13:51:51.134 request:
2 &gt; POST https://serverest.dev/login
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; Content-Length: 58
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;xochitl@gmail.com&quot;,&quot;password&quot;:&quot;SenhaSegura@123&quot;}

13:51:51.350 response time in milliseconds: 215
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: 6ed95fadf8ed8e9124c3c0c122289c48
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 284
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InhvY2hpdGxAZ21haWwuY29tIiwicGFzc3dvcmQiOiJTZW5oYVNlZ3VyYUAxMjMiLCJpYXQiOjE3NzEzMzYzMTEsImV4cCI6MTc3MTMzNjkxMX0.YP60BcPuH3zqsJ7cPzyXgzKffGTNZssZ6DKdVeuD8UM&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.39">
      <div class="step-ref passed">39</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.40">
      <div class="step-ref passed">40</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.42">
      <div class="step-ref passed">42</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.43">
      <div class="step-ref passed">43</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.44">
      <div class="step-ref passed">44</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">158</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.44">13:51:51.354 request:
3 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InhvY2hpdGxAZ21haWwuY29tIiwicGFzc3dvcmQiOiJTZW5oYVNlZ3VyYUAxMjMiLCJpYXQiOjE3NzEzMzYzMTEsImV4cCI6MTc3MTMzNjkxMX0.YP60BcPuH3zqsJ7cPzyXgzKffGTNZssZ6DKdVeuD8UM
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate


13:51:51.511 response time in milliseconds: 156
3 &lt; 200
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: 8046e370c2254f80b132ecbc445e56f8
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 68
{
    &quot;message&quot;: &quot;Não foi encontrado carrinho para esse usuário&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.45">
      <div class="step-ref passed">45</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create a product to be used in the cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.48">
      <div class="step-ref passed">48</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productName = randomProductName()</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.49">
      <div class="step-ref passed">49</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productData =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.49">{
  &quot;nome&quot;: &quot;#(productName)&quot;,
  &quot;preco&quot;: 150,
  &quot;descricao&quot;: &quot;Product created for cart lifecycle test&quot;,
  &quot;quantidade&quot;: 10
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.59">
      <div class="step-ref passed">59</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/produtos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.60">
      <div class="step-ref passed">60</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.61">
      <div class="step-ref passed">61</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request productData</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.62">
      <div class="step-ref passed">62</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">204</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.62">13:51:51.516 request:
4 &gt; POST https://serverest.dev/produtos
4 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InhvY2hpdGxAZ21haWwuY29tIiwicGFzc3dvcmQiOiJTZW5oYVNlZ3VyYUAxMjMiLCJpYXQiOjE3NzEzMzYzMTEsImV4cCI6MTc3MTMzNjkxMX0.YP60BcPuH3zqsJ7cPzyXgzKffGTNZssZ6DKdVeuD8UM
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 112
4 &gt; Host: serverest.dev
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Durable Marble Lamp&quot;,&quot;preco&quot;:150,&quot;descricao&quot;:&quot;Product created for cart lifecycle test&quot;,&quot;quantidade&quot;:10}

13:51:51.718 response time in milliseconds: 201
4 &lt; 201
4 &lt; access-control-allow-origin: *
4 &lt; x-dns-prefetch-control: off
4 &lt; x-frame-options: SAMEORIGIN
4 &lt; strict-transport-security: max-age=15552000; includeSubDomains
4 &lt; x-download-options: noopen
4 &lt; x-content-type-options: nosniff
4 &lt; x-xss-protection: 1; mode=block
4 &lt; content-type: application/json; charset=utf-8
4 &lt; x-cloud-trace-context: 7f4a4853cea51237dfafe2616f592919
4 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
4 &lt; server: Google Frontend
4 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;vZHWYDxfnmXIfIlp&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.63">
      <div class="step-ref passed">63</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.64">
      <div class="step-ref passed">64</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message == &#39;Cadastro realizado com sucesso&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.65">
      <div class="step-ref passed">65</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create a cart for the logged user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.68">
      <div class="step-ref passed">68</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def cartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.68">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 2
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.80">
      <div class="step-ref passed">80</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.81">
      <div class="step-ref passed">81</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.82">
      <div class="step-ref passed">82</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request cartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.83">
      <div class="step-ref passed">83</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">402</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.83">13:51:51.722 request:
5 &gt; POST https://serverest.dev/carrinhos
5 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InhvY2hpdGxAZ21haWwuY29tIiwicGFzc3dvcmQiOiJTZW5oYVNlZ3VyYUAxMjMiLCJpYXQiOjE3NzEzMzYzMTEsImV4cCI6MTc3MTMzNjkxMX0.YP60BcPuH3zqsJ7cPzyXgzKffGTNZssZ6DKdVeuD8UM
5 &gt; Content-Type: application/json; charset=UTF-8
5 &gt; Content-Length: 62
5 &gt; Host: serverest.dev
5 &gt; Connection: Keep-Alive
5 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
5 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;vZHWYDxfnmXIfIlp&quot;,&quot;quantidade&quot;:2}]}

13:51:52.122 response time in milliseconds: 399
5 &lt; 201
5 &lt; access-control-allow-origin: *
5 &lt; x-dns-prefetch-control: off
5 &lt; x-frame-options: SAMEORIGIN
5 &lt; strict-transport-security: max-age=15552000; includeSubDomains
5 &lt; x-download-options: noopen
5 &lt; x-content-type-options: nosniff
5 &lt; x-xss-protection: 1; mode=block
5 &lt; content-type: application/json; charset=utf-8
5 &lt; x-cloud-trace-context: d5c6396d46e0e608031cc753b166e731
5 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
5 &lt; server: Google Frontend
5 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;Mhhg4YQ18f7IU4LK&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.84">
      <div class="step-ref passed">84</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.85">
      <div class="step-ref passed">85</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message == &#39;Cadastro realizado com sucesso&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.86">
      <div class="step-ref passed">86</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response._id == &#39;#string&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.87">
      <div class="step-ref passed">87</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def cartId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">9</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Get cart by ID and validate structure</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.90">
      <div class="step-ref passed">90</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/&#39; + cartId</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.91">
      <div class="step-ref passed">91</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method GET</span>
      </div>
    </div>
    <div class="time-cell passed">127</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.91">13:51:52.140 request:
6 &gt; GET https://serverest.dev/carrinhos/Mhhg4YQ18f7IU4LK
6 &gt; Host: serverest.dev
6 &gt; Connection: Keep-Alive
6 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
6 &gt; Accept-Encoding: gzip,deflate


13:51:52.266 response time in milliseconds: 125
6 &lt; 200
6 &lt; access-control-allow-origin: *
6 &lt; x-dns-prefetch-control: off
6 &lt; x-frame-options: SAMEORIGIN
6 &lt; strict-transport-security: max-age=15552000; includeSubDomains
6 &lt; x-download-options: noopen
6 &lt; x-content-type-options: nosniff
6 &lt; x-xss-protection: 1; mode=block
6 &lt; content-type: application/json; charset=utf-8
6 &lt; x-cloud-trace-context: ae9611c26686577b43cfcdf0ecfa9554
6 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
6 &lt; server: Google Frontend
6 &lt; Content-Length: 271
{
    &quot;produtos&quot;: [
        {
            &quot;idProduto&quot;: &quot;vZHWYDxfnmXIfIlp&quot;,
            &quot;quantidade&quot;: 2,
            &quot;precoUnitario&quot;: 150
        }
    ],
    &quot;precoTotal&quot;: 300,
    &quot;quantidadeTotal&quot;: 2,
    &quot;idUsuario&quot;: &quot;A7E8xr28oklpRvFs&quot;,
    &quot;_id&quot;: &quot;Mhhg4YQ18f7IU4LK&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.92">
      <div class="step-ref passed">92</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.93">
      <div class="step-ref passed">93</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response ==</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.93">{
  produtos: &#39;#[1]&#39;,
  precoTotal: &#39;#number&#39;,
  quantidadeTotal: &#39;#number&#39;,
  idUsuario: &#39;#string&#39;,
  _id: &#39;#string&#39;
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Conclude purchase: cart should be removed</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.105">
      <div class="step-ref passed">105</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/concluir-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.106">
      <div class="step-ref passed">106</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.107">
      <div class="step-ref passed">107</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">254</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.107">13:51:52.276 request:
7 &gt; DELETE https://serverest.dev/carrinhos/concluir-compra
7 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InhvY2hpdGxAZ21haWwuY29tIiwicGFzc3dvcmQiOiJTZW5oYVNlZ3VyYUAxMjMiLCJpYXQiOjE3NzEzMzYzMTEsImV4cCI6MTc3MTMzNjkxMX0.YP60BcPuH3zqsJ7cPzyXgzKffGTNZssZ6DKdVeuD8UM
7 &gt; Host: serverest.dev
7 &gt; Connection: Keep-Alive
7 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
7 &gt; Accept-Encoding: gzip,deflate


13:51:52.528 response time in milliseconds: 251
7 &lt; 200
7 &lt; access-control-allow-origin: *
7 &lt; x-dns-prefetch-control: off
7 &lt; x-frame-options: SAMEORIGIN
7 &lt; strict-transport-security: max-age=15552000; includeSubDomains
7 &lt; x-download-options: noopen
7 &lt; x-content-type-options: nosniff
7 &lt; x-xss-protection: 1; mode=block
7 &lt; content-type: application/json; charset=utf-8
7 &lt; x-cloud-trace-context: 3b15cea84b507d035407159afdd0cfb5
7 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
7 &lt; server: Google Frontend
7 &lt; Content-Length: 51
{
    &quot;message&quot;: &quot;Registro excluído com sucesso&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.108">
      <div class="step-ref passed">108</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.109">
      <div class="step-ref passed">109</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message contains &#39;Registro excluído com sucesso&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2:112]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2:112]</span>
                <span class="scenario-name">CT02 - Cancel purchase and return products to stock</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>1897</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2:112]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2:112]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:112]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:112]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:112]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">40</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2:112]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.113">
      <div class="step-ref passed">113</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.114">
      <div class="step-ref passed">114</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">13</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.115">
      <div class="step-ref passed">115</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">759</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.115">13:51:50.629 request:
1 &gt; POST https://serverest.dev/login
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 44
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;fulano@qa.com&quot;,&quot;password&quot;:&quot;teste&quot;}

13:51:51.134 response time in milliseconds: 504
1 &lt; 200
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: dc8faee5e706306b06af49fcb37c4d41
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 265
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.116">
      <div class="step-ref passed">116</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.117">
      <div class="step-ref passed">117</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Ensure there is no existing cart for this user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.120">
      <div class="step-ref passed">120</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.121">
      <div class="step-ref passed">121</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.122">
      <div class="step-ref passed">122</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">269</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.122">13:51:51.139 request:
2 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
2 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate


13:51:51.406 response time in milliseconds: 266
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: 017b59d8109663b13ab87ff78f262714
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 68
{
    &quot;message&quot;: &quot;Não foi encontrado carrinho para esse usuário&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.123">
      <div class="step-ref passed">123</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create product for the cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.126">
      <div class="step-ref passed">126</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productName = randomProductName()</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.127">
      <div class="step-ref passed">127</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productData =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.127">{
  &quot;nome&quot;: &quot;#(productName)&quot;,
  &quot;preco&quot;: 200,
  &quot;descricao&quot;: &quot;Product for cancel purchase test&quot;,
  &quot;quantidade&quot;: 5
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.137">
      <div class="step-ref passed">137</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/produtos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.138">
      <div class="step-ref passed">138</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &#39;Using auth token:&#39;, token</span>
      </div>
    </div>
    <div class="time-cell passed">4</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.138">13:51:51.415 [print] Using auth token: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.139">
      <div class="step-ref passed">139</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.140">
      <div class="step-ref passed">140</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request productData</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.141">
      <div class="step-ref passed">141</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">188</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.141">13:51:51.417 request:
3 &gt; POST https://serverest.dev/produtos
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 106
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Durable Leather Watch&quot;,&quot;preco&quot;:200,&quot;descricao&quot;:&quot;Product for cancel purchase test&quot;,&quot;quantidade&quot;:5}

13:51:51.603 response time in milliseconds: 186
3 &lt; 201
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: fd4438b6cd7afcdec4c209f6f8d479b7
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;nrLZFtJqBhMDWVyn&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.142">
      <div class="step-ref passed">142</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.143">
      <div class="step-ref passed">143</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.146">
      <div class="step-ref passed">146</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def cartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.146">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 1
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.158">
      <div class="step-ref passed">158</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.159">
      <div class="step-ref passed">159</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.160">
      <div class="step-ref passed">160</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request cartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.161">
      <div class="step-ref passed">161</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">439</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.161">13:51:51.607 request:
4 &gt; POST https://serverest.dev/carrinhos
4 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 62
4 &gt; Host: serverest.dev
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;nrLZFtJqBhMDWVyn&quot;,&quot;quantidade&quot;:1}]}

13:51:52.044 response time in milliseconds: 437
4 &lt; 201
4 &lt; access-control-allow-origin: *
4 &lt; x-dns-prefetch-control: off
4 &lt; x-frame-options: SAMEORIGIN
4 &lt; strict-transport-security: max-age=15552000; includeSubDomains
4 &lt; x-download-options: noopen
4 &lt; x-content-type-options: nosniff
4 &lt; x-xss-protection: 1; mode=block
4 &lt; content-type: application/json; charset=utf-8
4 &lt; x-cloud-trace-context: 119975e57be2445dfbb02df9f4d6d9b9
4 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
4 &lt; server: Google Frontend
4 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;q417Z3dtcPPBkB8A&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.162">
      <div class="step-ref passed">162</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Cancel purchase: cart removed and stock should be restored (implicit)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.165">
      <div class="step-ref passed">165</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.166">
      <div class="step-ref passed">166</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.167">
      <div class="step-ref passed">167</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">165</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.167">13:51:52.047 request:
5 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
5 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
5 &gt; Host: serverest.dev
5 &gt; Connection: Keep-Alive
5 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
5 &gt; Accept-Encoding: gzip,deflate


13:51:52.210 response time in milliseconds: 162
5 &lt; 200
5 &lt; access-control-allow-origin: *
5 &lt; x-dns-prefetch-control: off
5 &lt; x-frame-options: SAMEORIGIN
5 &lt; strict-transport-security: max-age=15552000; includeSubDomains
5 &lt; x-download-options: noopen
5 &lt; x-content-type-options: nosniff
5 &lt; x-xss-protection: 1; mode=block
5 &lt; content-type: application/json; charset=utf-8
5 &lt; x-cloud-trace-context: 605cda26124571a5e931e46ed9379144
5 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
5 &lt; server: Google Frontend
5 &lt; Content-Length: 86
{
    &quot;message&quot;: &quot;Registro excluído com sucesso. Estoque dos produtos reabastecido&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.168">
      <div class="step-ref passed">168</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.169">
      <div class="step-ref passed">169</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message == &#39;#string&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[3:172]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[3:172]</span>
                <span class="scenario-name">CT03 - Prevent creating cart without authentication token</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>860</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[3:172]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[3:172]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:172]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:172]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:172]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">38</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3:172]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Try to create a cart without Authorization header</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.174">
      <div class="step-ref passed">174</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def cartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.174">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;BeeJh5lz3k6kSIzA&quot;,
      &quot;quantidade&quot;: 1
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.186">
      <div class="step-ref passed">186</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.187">
      <div class="step-ref passed">187</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request cartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.188">
      <div class="step-ref passed">188</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">794</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.188">13:51:50.630 request:
1 &gt; POST https://serverest.dev/carrinhos
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 62
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;BeeJh5lz3k6kSIzA&quot;,&quot;quantidade&quot;:1}]}

13:51:51.158 response time in milliseconds: 527
1 &lt; 401
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: 8da1da24528aad6af80332fd7c42fea8
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 103
{
    &quot;message&quot;: &quot;Token de acesso ausente, inválido, expirado ou usuário do token não existe mais&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.189">
      <div class="step-ref passed">189</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 401</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.190">
      <div class="step-ref passed">190</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message == &#39;Token de acesso ausente, inválido, expirado ou usuário do token não existe mais&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">13</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[4:193]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[4:193]</span>
                <span class="scenario-name">CT04 - Prevent creating more than one cart for the same user</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>1909</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[4:193]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[4:193]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">4</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:193]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">10</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:193]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:193]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">36</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[4:193]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.194">
      <div class="step-ref passed">194</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.195">
      <div class="step-ref passed">195</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.196">
      <div class="step-ref passed">196</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.197">
      <div class="step-ref passed">197</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">759</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.197">13:51:50.630 request:
1 &gt; POST https://serverest.dev/login
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 44
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;fulano@qa.com&quot;,&quot;password&quot;:&quot;teste&quot;}

13:51:51.129 response time in milliseconds: 498
1 &lt; 200
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: eebfe47a124191e86a7737e2b23920ff
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 265
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.198">
      <div class="step-ref passed">198</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.199">
      <div class="step-ref passed">199</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Ensure there is no existing cart for this user before creating the first cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.202">
      <div class="step-ref passed">202</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.203">
      <div class="step-ref passed">203</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.204">
      <div class="step-ref passed">204</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">289</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.204">13:51:51.137 request:
2 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
2 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate


13:51:51.424 response time in milliseconds: 287
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: 0ec755287975d7d5066fa2da433139ca
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 68
{
    &quot;message&quot;: &quot;Não foi encontrado carrinho para esse usuário&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.205">
      <div class="step-ref passed">205</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create a product specifically for this user&#39;s cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.208">
      <div class="step-ref passed">208</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productName = randomProductName()</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.209">
      <div class="step-ref passed">209</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productData =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.209">{
  &quot;nome&quot;: &quot;#(productName)&quot;,
  &quot;preco&quot;: 120,
  &quot;descricao&quot;: &quot;Product for multiple cart test&quot;,
  &quot;quantidade&quot;: 3
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.219">
      <div class="step-ref passed">219</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/produtos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.220">
      <div class="step-ref passed">220</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.221">
      <div class="step-ref passed">221</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request productData</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.222">
      <div class="step-ref passed">222</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">247</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.222">13:51:51.429 request:
3 &gt; POST https://serverest.dev/produtos
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 108
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Synergistic Rubber Bottle&quot;,&quot;preco&quot;:120,&quot;descricao&quot;:&quot;Product for multiple cart test&quot;,&quot;quantidade&quot;:3}

13:51:51.675 response time in milliseconds: 245
3 &lt; 201
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: 100b219e12975c39b33a619a9dddf0b4
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;FbiaqdEctp61ZZZZ&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.223">
      <div class="step-ref passed">223</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.224">
      <div class="step-ref passed">224</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create the first cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.227">
      <div class="step-ref passed">227</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def firstCart =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.227">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 1
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.239">
      <div class="step-ref passed">239</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.240">
      <div class="step-ref passed">240</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.241">
      <div class="step-ref passed">241</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request firstCart</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.242">
      <div class="step-ref passed">242</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">412</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.242">13:51:51.680 request:
4 &gt; POST https://serverest.dev/carrinhos
4 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 62
4 &gt; Host: serverest.dev
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;FbiaqdEctp61ZZZZ&quot;,&quot;quantidade&quot;:1}]}

13:51:52.090 response time in milliseconds: 409
4 &lt; 201
4 &lt; access-control-allow-origin: *
4 &lt; x-dns-prefetch-control: off
4 &lt; x-frame-options: SAMEORIGIN
4 &lt; strict-transport-security: max-age=15552000; includeSubDomains
4 &lt; x-download-options: noopen
4 &lt; x-content-type-options: nosniff
4 &lt; x-xss-protection: 1; mode=block
4 &lt; content-type: application/json; charset=utf-8
4 &lt; x-cloud-trace-context: d11bd38e88e606bba7e1568e9562aa40
4 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
4 &lt; server: Google Frontend
4 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;wcr8OCE6wjcvDJ44&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.243">
      <div class="step-ref passed">243</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Try to create a second cart for same user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.246">
      <div class="step-ref passed">246</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def secondCart = firstCart</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.247">
      <div class="step-ref passed">247</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.248">
      <div class="step-ref passed">248</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.249">
      <div class="step-ref passed">249</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request secondCart</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.250">
      <div class="step-ref passed">250</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">129</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.250">13:51:52.093 request:
5 &gt; POST https://serverest.dev/carrinhos
5 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
5 &gt; Content-Type: application/json; charset=UTF-8
5 &gt; Content-Length: 62
5 &gt; Host: serverest.dev
5 &gt; Connection: Keep-Alive
5 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
5 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;FbiaqdEctp61ZZZZ&quot;,&quot;quantidade&quot;:1}]}

13:51:52.220 response time in milliseconds: 126
5 &lt; 400
5 &lt; access-control-allow-origin: *
5 &lt; x-dns-prefetch-control: off
5 &lt; x-frame-options: SAMEORIGIN
5 &lt; strict-transport-security: max-age=15552000; includeSubDomains
5 &lt; x-download-options: noopen
5 &lt; x-content-type-options: nosniff
5 &lt; x-xss-protection: 1; mode=block
5 &lt; content-type: application/json; charset=utf-8
5 &lt; x-cloud-trace-context: dbb7c4551ec91070732a5ccbb6ec8aef
5 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
5 &lt; server: Google Frontend
5 &lt; Content-Length: 61
{
    &quot;message&quot;: &quot;Não é permitido ter mais de 1 carrinho&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.251">
      <div class="step-ref passed">251</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.252">
      <div class="step-ref passed">252</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message contains &#39;Não é permitido ter mais de 1 carrinho&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[5:255]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[5:255]</span>
                <span class="scenario-name">CT05 - Cart not found by ID</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>880</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[5:255]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[5:255]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:255]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:255]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:255]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">39</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[5:255]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">9</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.256">
      <div class="step-ref passed">256</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/invalid-cart-id-123&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.257">
      <div class="step-ref passed">257</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method GET</span>
      </div>
    </div>
    <div class="time-cell passed">821</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.257">13:51:50.629 request:
1 &gt; GET https://serverest.dev/carrinhos/invalid-cart-id-123
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate


13:51:51.186 response time in milliseconds: 555
1 &lt; 400
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: 3639fabb87cb908c6c44a8df4cc46f9c
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 67
{
    &quot;id&quot;: &quot;id deve ter exatamente 16 caracteres alfanuméricos&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.258">
      <div class="step-ref passed">258</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.259">
      <div class="step-ref passed">259</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response == { id: &#39;id deve ter exatamente 16 caracteres alfanuméricos&#39; }</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[6:262]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[6:262]</span>
                <span class="scenario-name">CT06 - Prevent cart creation when product stock is insufficient</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>1420</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[6:262]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[6:262]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[6:262]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[6:262]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[6:262]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">43</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[6:262]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.263">
      <div class="step-ref passed">263</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.264">
      <div class="step-ref passed">264</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.265">
      <div class="step-ref passed">265</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.266">
      <div class="step-ref passed">266</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">726</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.266">13:51:50.630 request:
1 &gt; POST https://serverest.dev/login
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 44
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;fulano@qa.com&quot;,&quot;password&quot;:&quot;teste&quot;}

13:51:51.095 response time in milliseconds: 463
1 &lt; 200
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: 558b5855bd80b7b43a4571d8fdeb4872;o=1
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 265
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.267">
      <div class="step-ref passed">267</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.268">
      <div class="step-ref passed">268</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.270">
      <div class="step-ref passed">270</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.271">
      <div class="step-ref passed">271</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.272">
      <div class="step-ref passed">272</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">106</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.272">13:51:51.105 request:
2 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
2 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate


13:51:51.209 response time in milliseconds: 104
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: 209cfab0e64f1374f6f368fa2f82b223
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 86
{
    &quot;message&quot;: &quot;Registro excluído com sucesso. Estoque dos produtos reabastecido&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.273">
      <div class="step-ref passed">273</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create product with low stock</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.276">
      <div class="step-ref passed">276</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productName = randomProductName()</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.277">
      <div class="step-ref passed">277</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productData =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.277">{
  &quot;nome&quot;: &quot;#(productName)&quot;,
  &quot;preco&quot;: 100,
  &quot;descricao&quot;: &quot;Low stock product for cart test&quot;,
  &quot;quantidade&quot;: 1
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.287">
      <div class="step-ref passed">287</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/produtos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.288">
      <div class="step-ref passed">288</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.289">
      <div class="step-ref passed">289</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request productData</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.290">
      <div class="step-ref passed">290</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">307</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.290">13:51:51.219 request:
3 &gt; POST https://serverest.dev/produtos
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 101
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Durable Wool Lamp&quot;,&quot;preco&quot;:100,&quot;descricao&quot;:&quot;Low stock product for cart test&quot;,&quot;quantidade&quot;:1}

13:51:51.523 response time in milliseconds: 303
3 &lt; 201
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: fc13024a823f84e1709025bc28fe7f8d
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;LXqKMrMDKGOoVSs9&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.291">
      <div class="step-ref passed">291</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.292">
      <div class="step-ref passed">292</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Try to create cart with quantity greater than available stock</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.295">
      <div class="step-ref passed">295</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def cartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.295">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 2
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.307">
      <div class="step-ref passed">307</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.308">
      <div class="step-ref passed">308</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.309">
      <div class="step-ref passed">309</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request cartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.310">
      <div class="step-ref passed">310</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">206</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.310">13:51:51.527 request:
4 &gt; POST https://serverest.dev/carrinhos
4 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 62
4 &gt; Host: serverest.dev
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;LXqKMrMDKGOoVSs9&quot;,&quot;quantidade&quot;:2}]}

13:51:51.731 response time in milliseconds: 204
4 &lt; 400
4 &lt; access-control-allow-origin: *
4 &lt; x-dns-prefetch-control: off
4 &lt; x-frame-options: SAMEORIGIN
4 &lt; strict-transport-security: max-age=15552000; includeSubDomains
4 &lt; x-download-options: noopen
4 &lt; x-content-type-options: nosniff
4 &lt; x-xss-protection: 1; mode=block
4 &lt; content-type: application/json; charset=utf-8
4 &lt; x-cloud-trace-context: 1abcb395bffa7804a9369f38503ff42c
4 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
4 &lt; server: Google Frontend
4 &lt; Content-Length: 200
{
    &quot;message&quot;: &quot;Produto não possui quantidade suficiente&quot;,
    &quot;item&quot;: {
        &quot;idProduto&quot;: &quot;LXqKMrMDKGOoVSs9&quot;,
        &quot;quantidade&quot;: 2,
        &quot;quantidadeEstoque&quot;: 1,
        &quot;index&quot;: 0
    }
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.311">
      <div class="step-ref passed">311</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.312">
      <div class="step-ref passed">312</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message contains &#39;Produto não possui quantidade suficiente&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[7:316]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[7:316]</span>
                <span class="scenario-name">CT07 - Prevent cart creation with duplicated products in the same cart</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>863</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[7:316]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[7:316]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[7:316]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[7:316]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[7:316]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[7:316]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.317">
      <div class="step-ref passed">317</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.318">
      <div class="step-ref passed">318</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.319">
      <div class="step-ref passed">319</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.320">
      <div class="step-ref passed">320</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">254</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.320">13:51:51.194 request:
1 &gt; POST https://serverest.dev/login
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 44
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;fulano@qa.com&quot;,&quot;password&quot;:&quot;teste&quot;}

13:51:51.444 response time in milliseconds: 248
1 &lt; 200
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: 070609eaac648529cbdef09294c4f58b
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 265
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.321">
      <div class="step-ref passed">321</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.322">
      <div class="step-ref passed">322</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.324">
      <div class="step-ref passed">324</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.325">
      <div class="step-ref passed">325</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.326">
      <div class="step-ref passed">326</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">154</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.326">13:51:51.448 request:
2 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
2 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate


13:51:51.600 response time in milliseconds: 151
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: e8c8acf6d2bcf821bf4997ce15d46774
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 68
{
    &quot;message&quot;: &quot;Não foi encontrado carrinho para esse usuário&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.327">
      <div class="step-ref passed">327</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Create a product to be used in the cart</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.330">
      <div class="step-ref passed">330</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productName = randomProductName()</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.331">
      <div class="step-ref passed">331</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productData =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.331">{
  &quot;nome&quot;: &quot;#(productName)&quot;,
  &quot;preco&quot;: 150,
  &quot;descricao&quot;: &quot;Product created for duplicated products cart test&quot;,
  &quot;quantidade&quot;: 10
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.341">
      <div class="step-ref passed">341</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/produtos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.342">
      <div class="step-ref passed">342</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.343">
      <div class="step-ref passed">343</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request productData</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.344">
      <div class="step-ref passed">344</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">193</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.344">13:51:51.605 request:
3 &gt; POST https://serverest.dev/produtos
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 125
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;nome&quot;:&quot;Ergonomic Steel Gloves&quot;,&quot;preco&quot;:150,&quot;descricao&quot;:&quot;Product created for duplicated products cart test&quot;,&quot;quantidade&quot;:10}

13:51:51.796 response time in milliseconds: 191
3 &lt; 201
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: c4d09339d850f8e8f04fe15e31c3fea5
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 82
{
    &quot;message&quot;: &quot;Cadastro realizado com sucesso&quot;,
    &quot;_id&quot;: &quot;Hx2MvqGEp9M8mIWP&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.345">
      <div class="step-ref passed">345</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 201</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.346">
      <div class="step-ref passed">346</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def productId = response._id</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Try to create a cart with duplicated products</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.349">
      <div class="step-ref passed">349</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def duplicatedCartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.349">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 1
    },
    {
      &quot;idProduto&quot;: &quot;#(productId)&quot;,
      &quot;quantidade&quot;: 1
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.365">
      <div class="step-ref passed">365</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.366">
      <div class="step-ref passed">366</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.367">
      <div class="step-ref passed">367</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request duplicatedCartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.368">
      <div class="step-ref passed">368</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">246</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.368">13:51:51.801 request:
4 &gt; POST https://serverest.dev/carrinhos
4 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 110
4 &gt; Host: serverest.dev
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;Hx2MvqGEp9M8mIWP&quot;,&quot;quantidade&quot;:1},{&quot;idProduto&quot;:&quot;Hx2MvqGEp9M8mIWP&quot;,&quot;quantidade&quot;:1}]}

13:51:52.044 response time in milliseconds: 242
4 &lt; 400
4 &lt; access-control-allow-origin: *
4 &lt; x-dns-prefetch-control: off
4 &lt; x-frame-options: SAMEORIGIN
4 &lt; strict-transport-security: max-age=15552000; includeSubDomains
4 &lt; x-download-options: noopen
4 &lt; x-content-type-options: nosniff
4 &lt; x-xss-protection: 1; mode=block
4 &lt; content-type: application/json; charset=utf-8
4 &lt; x-cloud-trace-context: 3bf5c971df4c03fe92be0c1fea17efeb
4 &lt; date: Tue, 17 Feb 2026 13:51:52 GMT
4 &lt; server: Google Frontend
4 &lt; Content-Length: 61
{
    &quot;message&quot;: &quot;Não é permitido ter mais de 1 carrinho&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.369">
      <div class="step-ref passed">369</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.370">
      <div class="step-ref failed">370</div>
      
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response.message contains &#39;Não é permitido possuir produto duplicado&#39;</span>
      </div>
    </div>
    <div class="time-cell failed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.370">13:51:52.049 classpath:serverest/carrinhos/Carts.feature:370
And match response.message contains &#39;Não é permitido possuir produto duplicado&#39;
match failed: CONTAINS
  $ | actual does not contain expected (STRING:STRING)
  &#39;Não é permitido ter mais de 1 carrinho&#39;
  &#39;Não é permitido possuir produto duplicado&#39;

classpath:serverest/carrinhos/Carts.feature:370
</div>   

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[8:374]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">carts</a><a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[8:374]</span>
                <span class="scenario-name">CT08 - Prevent cart creation with non-existing product</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>592</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[8:374]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[8:374]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url &#39;https://serverest.dev&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[8:374]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.7">
      <div class="step-ref bg-step">7</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def FakerUtils = Java.type(&#39;serverest.utils.FakerUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[8:374]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def randomProductName = function(){ return FakerUtils.randomProduct() }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[8:374]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.9">
      <div class="step-ref bg-step">9</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[8:374]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.10">
      <div class="step-ref bg-step">10</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def email = function(){ return FakerUtils.randomEmail() }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.375">
      <div class="step-ref passed">375</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def loginPayload = read(&#39;classpath:serverest/login/resources/loginPayload.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.376">
      <div class="step-ref passed">376</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/login&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.377">
      <div class="step-ref passed">377</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request loginPayload</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.378">
      <div class="step-ref passed">378</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">281</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.378">13:51:51.220 request:
1 &gt; POST https://serverest.dev/login
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 44
1 &gt; Host: serverest.dev
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;email&quot;:&quot;fulano@qa.com&quot;,&quot;password&quot;:&quot;teste&quot;}

13:51:51.499 response time in milliseconds: 278
1 &lt; 200
1 &lt; access-control-allow-origin: *
1 &lt; x-dns-prefetch-control: off
1 &lt; x-frame-options: SAMEORIGIN
1 &lt; strict-transport-security: max-age=15552000; includeSubDomains
1 &lt; x-download-options: noopen
1 &lt; x-content-type-options: nosniff
1 &lt; x-xss-protection: 1; mode=block
1 &lt; content-type: application/json; charset=utf-8
1 &lt; x-cloud-trace-context: e67ee7efcc642afadcb5068c05af5a08
1 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
1 &lt; server: Google Frontend
1 &lt; Content-Length: 265
{
    &quot;message&quot;: &quot;Login realizado com sucesso&quot;,
    &quot;authorization&quot;: &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.379">
      <div class="step-ref passed">379</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.380">
      <div class="step-ref passed">380</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def token = response.authorization</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.382">
      <div class="step-ref passed">382</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos/cancelar-compra&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.383">
      <div class="step-ref passed">383</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.384">
      <div class="step-ref passed">384</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method DELETE</span>
      </div>
    </div>
    <div class="time-cell passed">119</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.384">13:51:51.503 request:
2 &gt; DELETE https://serverest.dev/carrinhos/cancelar-compra
2 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
2 &gt; Host: serverest.dev
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
2 &gt; Accept-Encoding: gzip,deflate


13:51:51.620 response time in milliseconds: 117
2 &lt; 200
2 &lt; access-control-allow-origin: *
2 &lt; x-dns-prefetch-control: off
2 &lt; x-frame-options: SAMEORIGIN
2 &lt; strict-transport-security: max-age=15552000; includeSubDomains
2 &lt; x-download-options: noopen
2 &lt; x-content-type-options: nosniff
2 &lt; x-xss-protection: 1; mode=block
2 &lt; content-type: application/json; charset=utf-8
2 &lt; x-cloud-trace-context: 16ab9e492c84b0797936b361098650c1
2 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
2 &lt; server: Google Frontend
2 &lt; Content-Length: 68
{
    &quot;message&quot;: &quot;Não foi encontrado carrinho para esse usuário&quot;
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.385">
      <div class="step-ref passed">385</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Try to create a cart with an invalid product ID</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.388">
      <div class="step-ref passed">388</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def invalidCartBody =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.388">{
  &quot;produtos&quot;: [
    {
      &quot;idProduto&quot;: &quot;AAAAAAAAAAAAAAAA&quot;,
      &quot;quantidade&quot;: 1
    }
  ]
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.400">
      <div class="step-ref passed">400</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/carrinhos&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.401">
      <div class="step-ref passed">401</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = token</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.402">
      <div class="step-ref passed">402</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request invalidCartBody</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.403">
      <div class="step-ref passed">403</div>
      
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method POST</span>
      </div>
    </div>
    <div class="time-cell passed">184</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.403">13:51:51.623 request:
3 &gt; POST https://serverest.dev/carrinhos
3 &gt; Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMzM2MzExLCJleHAiOjE3NzEzMzY5MTF9.otfZb2IOLB5zLc0EqXjCAcI_eWCWYdkASTv1U6giQh4
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 62
3 &gt; Host: serverest.dev
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;produtos&quot;:[{&quot;idProduto&quot;:&quot;AAAAAAAAAAAAAAAA&quot;,&quot;quantidade&quot;:1}]}

13:51:51.806 response time in milliseconds: 182
3 &lt; 400
3 &lt; access-control-allow-origin: *
3 &lt; x-dns-prefetch-control: off
3 &lt; x-frame-options: SAMEORIGIN
3 &lt; strict-transport-security: max-age=15552000; includeSubDomains
3 &lt; x-download-options: noopen
3 &lt; x-content-type-options: nosniff
3 &lt; x-xss-protection: 1; mode=block
3 &lt; content-type: application/json; charset=utf-8
3 &lt; x-cloud-trace-context: 95304da7f617a80d43de0f4f6fc2ec42
3 &lt; date: Tue, 17 Feb 2026 13:51:51 GMT
3 &lt; server: Google Frontend
3 &lt; Content-Length: 150
{
    &quot;message&quot;: &quot;Produto não encontrado&quot;,
    &quot;item&quot;: {
        &quot;idProduto&quot;: &quot;AAAAAAAAAAAAAAAA&quot;,
        &quot;quantidade&quot;: 1,
        &quot;index&quot;: 0
    }
}

</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.404">
      <div class="step-ref passed">404</div>
      
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 400</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.405">
      <div class="step-ref passed">405</div>
      
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.message contains &#39;Produto não encontrado&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

